算子介绍

1.1 canny算子简介
canny被很多人推崇为当今最优的边缘检测的算法。而边缘检测主要有三个判断标准。
①.低错误率: 标识出尽可能多的实际边缘，同时尽可能的减少噪声产生的误报。
②.高定位性: 标识出的边缘要与图像中的实际边缘尽可能接近。
③.最小响应: 图像中的边缘只能标识一次，并且可能存在的图像噪声不应标识为边缘。

1.2 Canny 边缘检测的步骤
1.消除噪声。 一般情况下，使用高斯平滑滤波器卷积降噪。 如下显示了一个 size = 5 的高斯内核示例:

 

2.计算梯度幅值和方向。 此处，按照Sobel滤波器的步骤。


	Ⅰ.运用一对卷积阵列 (分别作用于 x 和 y 方向):

  
	Ⅱ.使用下列公式计算梯度幅值和方向:

 
	梯度方向近似到四个可能角度之一(一般为0, 45, 90, 135)

3.非极大值抑制。 这一步排除非边缘像素， 仅仅保留了一些细线条(候选边缘)。
4.滞后阈值。最后一步，Canny 使用了滞后阈值，滞后阈值需要两个阈值(高阈值和低阈值):
 
Ⅰ.如果某一像素位置的幅值超过 高 阈值, 该像素被保留为边缘像素。
Ⅱ.如果某一像素位置的幅值小于 低 阈值, 该像素被排除。
Ⅲ.如果某一像素位置的幅值在两个阈值之间,该像素仅仅在连接到一个高于 高 阈值的像素时被保留。
tips：对于Canny函数的使用，推荐的高低阈值比在2:1到3:1之间。 


2.1 sobel算子
Sobel 算子是一个主要用作边缘检测的离散微分算子 (discrete differentiation operator)。 它Sobel算子结合了高斯平滑和微分求导，用来计算图像灰度函数的近似梯度。在图像的任何一点使用此算子，将会产生对应的梯度矢量或是其法矢量。

2.2 sobel算子的计算过程
我们假设被作用图像为 I.然后进行如下的操作：
1.分别在x和y两个方向求导。
Ⅰ.水平变化: 将 I 与一个奇数大小的内核 进行卷积。比如，当内核大小为3时,  的计算结果为:

  
Ⅱ.垂直变化: 将: I 与一个奇数大小的内核 进行卷积。比如，当内核大小为3时,   的计算结果为:

  
2.在图像的每一点，结合以上两个结果求出近似梯度:
 
 
另外有时，也可用下面更简单公式代替:
  



3.1 Laplace算子

Laplacian 算子是n维欧几里德空间中的一个二阶微分算子，定义为梯度grad（）的散度div（）。因此如果f是二阶可微的实函数，则f的拉普拉斯算子定义为：

(1) f的拉普拉斯算子也是笛卡儿坐标系xi中的所有非混合二阶偏导数求和：
(2) 作为一个二阶微分算子，拉普拉斯算子把C函数映射到C函数，对于k ≥ 2。表达式(1)（或(2)）定义了一个算子Δ :C(R) → C(R)，或更一般地，定义了一个算子Δ : C(Ω) → C(Ω)，对于任何开集Ω。
 
根据图像处理的原理我们知道，二阶导数可以用来进行检测边缘 。 因为图像是 “二维”, 我们需要在两个方向进行求导。使用Laplacian算子将会使求导过程变得简单。
 
Laplacian 算子的定义:

  
 
需要点破的是，由于 Laplacian使用了图像梯度，它内部的代码其实是调用了 Sobel 算子的。

另附一个小tips：让一幅图像减去它的Laplacian可以增强对比度。


滤波器介绍

椒盐噪声（salt-and-pepper noise)又称脉冲噪声，它随机改变一些像素值，在二值图像上表现为使一些像素点变白，一些像素点变黑。椒盐噪声往往由图像切割引起。

滤波的目的有两个：一是抽出对象的特征作为图像识别的特征模式；二是为适应计算机处理的要求，消除图像数字化时所混入的噪声。对滤波处理的要求有两条：一是不能损坏图像轮廓及边缘等重要信息；二是使图像清晰，视觉效果好。

（1）平均滤波，就是将一个区域内的像素值求和取平均值，然后用这个平均值替换区域中心的像素值。
（2）高斯滤波，也是将一个区域的像素值求取平均值替换区域中心的像素值，但是是加权平均，权重按照二维正态分布。最常用。
（3）中值滤波，之前的两个滤波都有个问题，如果区域中有极端值，很可能影响滤波效果，中值滤波采用区域中的中值来替换，有利于克服椒盐噪声。
（4）双边滤波，之前的滤波还有个问题，他们都会把轮廓给模糊了，有一些区域之间相差较大的像素，这往往能看出轮廓，所以如果我们给个限制范围，如果两点间的像素值差距大于这个范围就不滤波了，保留图像轮廓。


